import{e as d,c,o as i,_ as p,a as e,t as o,b as m,d as V,F as P,r as q,l as z,n as r,f as k,p as B}from"./Dz3Cz4xq.js";import{u as A}from"./Cq-qp6F-.js";import{u as F}from"./9KjGoEEd.js";const D=["src"],E=d({__name:"TwitchChat",props:{user_name:String},setup(a){return(t,s)=>(i(),c("iframe",{src:`https://www.twitch.tv/embed/${a.user_name}/chat?parent=localhost&darkpopout`,frameborder:"0",scrolling:"no",class:"container__chat--chat"},null,8,D))}}),G=p(E,[["__scopeId","data-v-4a47d99a"]]),R={class:"info"},j=["src"],L={class:"info__rest"},Q={class:"info__rest--name"},H={class:"info__rest--title"},J={class:"title"},K={class:"viewers"},M={class:"info__rest--category"},O={class:"info__rest--tags"},U=d({__name:"StreamInfo",props:{user_name:String,display_name:String,title:String,game_name:String,viewers:Number,tags:Array,picture:String},setup(a){return(t,s)=>(i(),c("section",R,[e("img",{src:a.picture,alt:"Profile",class:"info__picture"},null,8,j),e("div",L,[e("div",Q,[e("strong",null,o(a.user_name),1),s[0]||(s[0]=e("span",{class:"buttons"},[e("button",{class:"follow-btn"},"Follow"),e("button",{class:"sub-btn"},"Subscribe")],-1))]),e("div",H,[e("span",J,o(a.title),1),e("span",K,[m(A),V(o(a.viewers),1)])]),e("div",M,o(a.game_name),1),e("div",O,[(i(!0),c(P,null,q(a.tags,u=>(i(),c("span",{key:u,class:"tag"},o(u),1))),128))])])]))}}),W=p(U,[["__scopeId","data-v-14623f53"]]),X={class:"container"},Y={class:"container__stream"},Z=["src"],ee={class:"container__chat"},te=d({__name:"[id]",async setup(a){var S,$,x,I,C;let t,s;const v=z().params.id.toString(),l=r(""),f=r(""),T=r(""),h=r(""),g=r(""),w=r(0),y=r([]),b=r("");try{const{data:_}=([t,s]=k(()=>F("/api/twitch-user-info",{query:{userId:v}},"$N0BzjGQ787")),t=await t,s(),t),{data:N}=([t,s]=k(()=>F("/api/twitch-profile-picture",{query:{id:v}},"$za3_PG-PVC")),t=await t,s(),t),n=($=(S=_.value)==null?void 0:S.data)==null?void 0:$[0];n||B("/"),w.value=n.viewer_count,l.value=n.user_name,f.value=n.display_name,T.value=n.profile_image_url,h.value=n.title,g.value=n.game_name,y.value=n.tags||[],b.value=(C=(I=(x=N.value)==null?void 0:x.data)==null?void 0:I[0])==null?void 0:C.profile_image_url}catch(_){console.error("Error cargando datos del stream",_),B("/")}return(_,N)=>(i(),c("div",X,[e("article",Y,[e("iframe",{src:`https://player.twitch.tv/?channel=${l.value}&parent=localhost`,frameborder:"0",allowfullscreen:"",class:"container__stream--stream"},null,8,Z),m(W,{user_name:l.value,display_name:f.value,title:h.value,game_name:g.value,viewers:w.value,tags:y.value,picture:b.value},null,8,["user_name","display_name","title","game_name","viewers","tags","picture"])]),e("article",ee,[m(G,{user_name:l.value},null,8,["user_name"])])]))}}),re=p(te,[["__scopeId","data-v-3ae44e09"]]);export{re as default};
